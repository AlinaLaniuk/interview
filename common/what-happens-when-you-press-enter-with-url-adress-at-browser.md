 # Что происходит, когда я нажимаю enter после введения url в адресной строке браузера?

Задача браузера состоит в том, чтобы по запросу пользователя сходить на сервер, безопасно взять данные, и красиво отрисовать на экране приложение.


Вот части браузера:

![image](https://github.com/AlinaLaniuk/interview/assets/101401177/3b855a10-a45f-4cf2-a331-31ad499327b2)

Адрес состоит из несколькоих вещей:


![image](https://github.com/AlinaLaniuk/interview/assets/101401177/143f656f-3440-416e-a68d-b4139ddd6c77)


1. Протокол. Это набор правил, по которым будут взаимодействовать два или более устройств в Иннернете. Они бывают разные, но браузер поддерживает следующие: http и https, file, ftp.

![image](https://github.com/AlinaLaniuk/interview/assets/101401177/c48e034b-2c4f-4b59-a276-88c239eda7d7)

Для большинства задач браузер использует протокол http/https. По умолчанию это https.

Когда моя машина отправляет запрос другому устройству, оно не хочет обратного коннекта, то есть подключения сервера к себе. HTTP регулирует эти взаимоотношения, в рамках этого протокола запросы посылает клиент, ответы дает сервер, при этом взаимодействие ограничивается одиночными сообщениями, потока данных нет.

Изначально этот протокол был придуман для передачи html, имеено поэтому он называется HyperText Transfer Protocol.

HTTPS - это расширение протокола http, это сочетание протоколов http + tls(надстройка для безопасности).

TLS - криптографический протокол. Создает ключи для определенного браузера и определенного сервера, только они смогут его прочесть. Для третьего устройства это будет набор нечитаемых символов.

2. Доменное имя.

Доменное имя - это удобная запись, которую сможет использовать человек для нахождения нужной странички. На самом деле каждое устройство в Интернете имеет собственный IP-адрес, который выглядит как строка из чисел, разделенных точкой.

Браузер должен понять, какое доменное имя соответствует какому IP-адресу. Этот процесс называется DNS lookup.
Браузер сначала посмотрит, не сохранен ли в его хеше данный IP-адрес (есть ли для этого доменного имени уже найденный IP-адрес). Потом сходит к роутеру. Потом к провайдеру и т.д., пока не найдет собственно адрес (или не найдет и мы увидим ошибку).


![image](https://github.com/AlinaLaniuk/interview/assets/101401177/e31cc62b-242c-4589-9c34-c45d01ac795a)


 **IP-адрес**

 В Интернете взаимодействуют между собой множество различных устройств. Два компьютера могут подключится друг к другу, если между ними есть общая сеть. Устройства находят друг друга по IP-адресам. Аналогия - звонок по мобильному телефону. Я редко звоню человеку, набирая его номер, обычно у меня в телефонной книге записаны его имя и фамилия и так я понимаю, кому хочу позвонить. Но звонок все-таки идет именно по номеру.
IP-адрес - это адрес сетевого устройства. У компьютера или телефона он может быть переназначен модемом. Ноутбук, который не подключен ни к одной сети не имеет IP-адреса. Когда идет запрос к серверу, ноутбук на самом деле обращается не напрямую к машине, на которой расположен сервер. Он отправляет свой запрос модему, модем - провайдеру, провайдер - еще кому-то и т.д. пока запрос не достигнет получателя. Посредники в цепи передачи запроса называются прокси.

**Порт**

 Это адрес приложения. На самом деле запрос с моей машины выглядит как запрос от адреса, состоящего из IP и порта. У меня может быть запущен телеграм, браузер, скайп, и каждое приложение делает свои запросы. Как понять, кому отдавать ответ в таком случае, если мы имеем для всех один и тот же IP-адрес. Вот по номеру порта и определяется.
 Та же самая история и с сервером. Сервер - это тоже приложение, и оно тоже работает на какой-то машине. Машина имеет IP-адрес, мы благодаря DNS lookup нашли ее. Но к кому обращаться, если на этой машине запущего сто серверов? По номеру порта.
 Но здесь есть нюанс. HTTP по дефолту обращается к 80 порту, а HTTPS - к 443. Что это значит? Когда моя машина отправляется запрос к какому-то серверу, если мы работаем с указанными протоколами, запрос на машину с сервером попадет на 80 или 443 порт. А вот определить, какому конкретно приложению-серверу этот запрос предназначается, - вопрос отдельного процесса на этой машине. Грубо говоря, есть некоторый распределитель, который при получении запроса на 80 или 443 порты передает дальше запрос кому надо.

 **Установка соединения**

 При запросе от моего компьютера к серверу происходит отправка пакета от меня к серверу, сервер отвечает мне также пакетом. Это так называемый обмен рукопожатиями, обмен некоторыми информационными сообщениями для подтверждения открытия сессии. Только после этого производится запрос по протоколу HTTP.

 **HTTP1 vs HTTP2**

 
